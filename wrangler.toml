# Cloudflare Workers Configuration
# For more details: https://developers.cloudflare.com/workers/wrangler/configuration/

name = "my-svelte-app"
main = ".svelte-kit/cloudflare/_worker.js"
compatibility_date = "2025-12-23"
compatibility_flags = ["nodejs_compat", "nodejs_als"]

[assets]
binding = "ASSETS"
directory = ".svelte-kit/cloudflare"

[observability]
enabled = true

# KV Namespaces for session storage
[[kv_namespaces]]
binding = "LOGIN_SESSION_CACHE"
id = "ae35743ad6a2445bbb364dbdfb438e56"
preview_id = "ae35743ad6a2445bbb364dbdfb438e56"

# KV Namespace for data caching (optional, for production)
[[kv_namespaces]]
binding = "DATA_CACHE"
id = "aaeb0d26bfef4fa2b688efede12a0603"
preview_id = "aaeb0d26bfef4fa2b688efede12a0603"

# To create KV namespaces:
# npx wrangler kv:namespace create "LOGIN_SESSION_CACHE"
# npx wrangler kv:namespace create "DATA_CACHE"
# Then update the ids above with the returned namespace IDs

# For local development, KV operations will work without actual namespace
# For production, create namespaces in Cloudflare dashboard or via CLI

