# Datepicker Component

The Datepicker provides a technical, efficient interface for selecting dates, adhering to the **Cyberpunk-Lite** aesthetic with glassmorphic panels and precise typography.

## 1. Design Philosophy

-   **Technical Clarity:** Minimalist calendar grid with a focus on data density and clear selection states.
-   **Floating Context:** Designed as a popover that sits above the visualization without completely blocking it.
-   **Navigation Speed:** Quick month and year switching via compact, technical controls.
-   **Aesthetic Consistency:** Uses the standard brand accent for active states and subtle glassmorphism for the container.

## 2. Visual Specifications

### Components
1.  **Header:** Displays current month and year with navigation arrows.
2.  **Day Headers:** Single-letter or short abbreviations (M, T, W, T, F, S, S) in `ModernDense` font.
3.  **Calendar Grid:** A 7-column grid of days.
4.  **Date Slots:** Circular or rounded-square interactive areas.
5.  **Selection State:** High-contrast neon glow (`hsl(var(--accent-brand))`) with inverted text.
6.  **Today State:** Subtle border or indicator dot.

### Colors & Styles
-   **Container:** `hsla(var(--bg-200) / 0.9)` with `backdrop-blur(12px)`.
-   **Borders:** `1px solid hsla(var(--border-300) / 0.15)`.
-   **Active Date:** `background: hsl(var(--accent-brand)); color: #fff; shadow: 0 0 10px hsla(var(--accent-brand) / 0.5)`.
-   **Hover State:** `background: hsla(var(--bg-300) / 0.5)`.
-   **Muted Dates:** Dates from adjacent months are rendered in `hsl(var(--text-500))` with reduced opacity.

### Typography
-   All text uses `ModernDense` font.
-   Headers are `xs` or `sm`, uppercase, bold.
-   Days are `xs`, monospaced look.

## 3. Technical Implementation

### CSS Classes
-   `.aea-datepicker`: Root container.
-   `.aea-datepicker-header`: Top navigation area.
-   `.aea-datepicker-grid`: The 7-column grid.
-   `.aea-datepicker-day`: Individual date slot.
-   `.aea-datepicker-day-header`: Mon-Sun labels.
-   `.aea-datepicker-selected`: Active selection state.
-   `.aea-datepicker-today`: Today's date marker.
-   `.aea-datepicker-other-month`: Dates outside the current month.

### JavaScript Logic
-   **Date Calculation:** Robust logic for generating days in a month, accounting for leap years and starting days.
-   **Navigation:** Smooth transitions between months/years.
-   **Input Binding:** Can be linked to a text input field or used as a standalone widget.
-   **Accessibility:** ARIA labels for navigation buttons and grid days.

### Accessibility (WCAG AA)
-   **Keyboard Navigation:** Use arrow keys to navigate the grid. `Enter` to select.
-   **ARIA Live:** Announce month changes to screen readers.
-   **Role:** `role="grid"` for the calendar, `role="gridcell"` for days.

## 4. Usage Examples

### Standard Popover
```html
<div class="relative">
    <input type="text" class="aea-input" placeholder="Select Date" readonly>
    <div class="aea-datepicker-popover hidden">
        <!-- Datepicker component -->
    </div>
</div>
```

### Standalone Inline
```html
<div class="aea-datepicker" data-date="2025-12-22">
    <!-- Component structure generated by JS -->
</div>
```

## 5. Failure Scenarios & Edge Cases
-   **Invalid Initial Date:** Fallback to today's date.
-   **Boundary Years:** Handle extremely far-future or past dates gracefully (e.g., year range 1900-2100).
-   **Mobile View:** Ensure the grid is large enough for touch (min 40x40px per day slot).
-   **Localization:** Support for different week start days (Monday vs Sunday).
